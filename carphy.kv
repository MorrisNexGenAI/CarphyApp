# carphy.kv
#:kivy 2.1.0

<WelcomeScreen>:
    BoxLayout:
        orientation: "vertical"
        padding: 20
        spacing: 10
        Label:
            text: "Welcome to Carphy Order System"
            font_size: 24
        Button:
            text: "Signup"
            size_hint: 0.5, 0.2
            pos_hint: {"center_x": 0.5}
            on_press: root.manager.current = "signup"
        Button:
            text: "Login"
            size_hint: 0.5, 0.2
            pos_hint: {"center_x": 0.5}
            on_press: root.manager.current = "login"

<SignupScreen>:
    BoxLayout:
        orientation: "vertical"
        padding: 20
        spacing: 10
        Label:
            text: "Signup"
            font_size: 24
        TextInput:
            id: name_input
            hint_text: "Enter your name"
        TextInput:
            id: pin_input
            hint_text: "Enter your PIN"
            password: True
        Spinner:
            id: dept_spinner
            text: "Select Department"
            values: ["Computer Science", "Engineering", "Mathematics"]
        Spinner:
            id: role_spinner
            text: "Select Role"
            values: ["user", "moderator", "admin"]
        Button:
            text: "Submit"
            size_hint: 0.5, 0.2
            pos_hint: {"center_x": 0.5}
            on_press: root.submit_signup()
        Label:
            id: status_label
            text: ""
            color: 1, 0, 0, 1  # Red for errors
        Button:
            text: "Back to Welcome"
            size_hint: 0.5, 0.2
            pos_hint: {"center_x": 0.5}
            on_press: root.manager.current = "welcome"

<LoginScreen>:
    BoxLayout:
        orientation: "vertical"
        padding: 20
        spacing: 10
        Label:
            text: "Login"
            font_size: 24
        TextInput:
            id: name_input
            hint_text: "Enter your name"
        TextInput:
            id: pin_input
            hint_text: "Enter your PIN"
            password: True
        Button:
            text: "Submit"
            size_hint: 0.5, 0.2
            pos_hint: {"center_x": 0.5}
            on_press: root.submit_login()
        Label:
            id: status_label
            text: ""
            color: 1, 0, 0, 1
        Button:
            text: "Back to Welcome"
            size_hint: 0.5, 0.2
            pos_hint: {"center_x": 0.5}
            on_press: root.manager.current = "welcome"

<HomeScreen>:
    BoxLayout:
        orientation: "vertical"
        padding: 20
        spacing: 10
        Label:
            text: "Home - Select Department"
            font_size: 24
        Spinner:
            id: dept_spinner
            text: "Select Department"
            values: ["Computer Science", "Engineering", "Mathematics"]
            on_text: root.select_department(self.text)
        Button:
            text: "Go to Courses"
            size_hint: 0.5, 0.2
            pos_hint: {"center_x": 0.5}
            on_press: root.manager.current = "course"
        Button:
            text: "Admin Dashboard (A)"
            size_hint: 0.5, 0.2
            pos_hint: {"center_x": 0.5}
            on_press: root.manager.current = "admin"

<CourseScreen>:
    BoxLayout:
        orientation: "vertical"
        padding: 20
        spacing: 10
        Label:
            text: "Courses"
            font_size: 24
        ScrollView:
            id: course_layout
            do_scroll_x: False
            do_scroll_y: True
            BoxLayout:
                orientation: "vertical"
                size_hint_y: None
                height: self.minimum_height
        Button:
            text: "Back to Home"
            size_hint: 0.5, 0.2
            pos_hint: {"center_x": 0.5}
            on_press: root.manager.current = "home"

<PamphletScreen>:
    BoxLayout:
        orientation: "vertical"
        padding: 20
        spacing: 10
        Label:
            text: "Pamphlets"
            font_size: 24
        ScrollView:
            id: pamphlet_layout
            do_scroll_x: False
            do_scroll_y: True
            BoxLayout:
                orientation: "vertical"  # Fixed: Added value
                size_hint_y: None
                height: self.minimum_height
        Button:
            text: "Back to Courses"
            size_hint: 0.5, 0.2
            pos_hint: {"center_x": 0.5}
            on_press: root.manager.current = "course"

<CartScreen>:
    BoxLayout:
        orientation: "vertical"
        padding: 20
        spacing: 10
        Label:
            text: "Cart - Assignments"
            font_size: 24
        ScrollView:
            id: cart_layout
            do_scroll_x: False
            do_scroll_y: True
            BoxLayout:
                orientation: "vertical"
                size_hint_y: None
                height: self.minimum_height
        Button:
            text: "Back to Courses"
            size_hint: 0.5, 0.2
            pos_hint: {"center_x": 0.5}
            on_press: root.manager.current = "course"

<AdminScreen>:
    BoxLayout:
        orientation: "vertical"
        padding: 20
        spacing: 10
        Label:
            text: "Admin Dashboard"
            font_size: 24
        ScrollView:
            id: admin_layout
            do_scroll_x: False
            do_scroll_y: True
            BoxLayout:
                orientation: "vertical"
                size_hint_y: None
                height: self.minimum_height
        Button:
            text: "Back to Home"
            size_hint: 0.5, 0.2
            pos_hint: {"center_x": 0.5}
            on_press: root.manager.current = "home"